{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/how-to-add-utterances-to-gatsby-blog","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"How To Add Utterances Comment System To Your Gatsby Blog\",\n  \"slug\": \"how-to-add-utterances-to-gatsby-blog\",\n  \"image\": \"./images/main_utterances.png\",\n  \"date\": \"2022-03-25T00:00:00.000Z\",\n  \"author\": \"youngjae lim\",\n  \"category\": \"Gatsby\",\n  \"tags\": [\"Gatsby\", \"tool\", \"utterances\", \"widget\", \"github\"],\n  \"readTime\": 10,\n  \"embeddedImages\": [\"./images/utterance_install_1.png\", \"./images/utterance_install_2.png\", \"./images/utterance_success.png\", \"./images/config_env_on_github.png\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", {\n    \"id\": \"overview\"\n  }, \"Overview\"), mdx(\"p\", null, \"This article shows you how to add \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"utterances\"), \" light weight comments widget to your Gatsby website. The widget is built on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"GitHub\"), \" issues.\"), mdx(\"h2\", {\n    \"id\": \"caveats\"\n  }, \"Caveats\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Needs Github authentication by users\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"There is no reply functionality\")), mdx(\"h2\", {\n    \"id\": \"what-you-need\"\n  }, \"What you need\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Public Github Repository\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"...\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-jsx\",\n    \"metastring\": \"file=./src/components/Comments.js highlights=7,11\",\n    \"file\": \"./src/components/Comments.js\",\n    \"highlights\": \"7,11\"\n  }, \"import React, { useEffect } from 'react'\\n\\nconst COMMENTS_ID = 'comments-container'\\n\\nconst Comments = () => {\\n  useEffect(() => {\\n    if (!process.env.GATSBY_COMMENTS_REPO) return\\n\\n    const script = document.createElement('script')\\n    script.src = 'https://utteranc.es/client.js'\\n    script.setAttribute('repo', process.env.GATSBY_COMMENTS_REPO)\\n    script.setAttribute('issue-term', 'pathname')\\n    script.setAttribute('theme', 'icy-dark')\\n    script.setAttribute('crossorigin', 'anonymous')\\n    script.async = true\\n\\n    const comments = document.getElementById(COMMENTS_ID)\\n    if (comments) comments.appendChild(script)\\n\\n    // This function will get called when the component unmounts\\n    // To make sure we don't end up with multiple instances of the comments component\\n    return () => {\\n      const comments = document.getElementById(COMMENTS_ID)\\n      if (comments) comments.innerHTML = ''\\n    }\\n  }, [])\\n\\n  return (\\n    <div>\\n      <h4>Comments</h4>\\n      <div id={COMMENTS_ID} />\\n    </div>\\n  )\\n}\\n\\nexport default Comments\\n\")), mdx(\"h2\", {\n    \"id\": \"setup-gatsby-environment-variable\"\n  }, \"Setup Gatsby Environment Variable\"), mdx(\"p\", null, \"Because I publish my site to Github pages using GitHub Actions, it needs to be able to access the environment variable during the deploying process. To set it, you can go to Github \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Settings>Environments\"), \" menu and add a key and a variable.\"), mdx(GatsbyImage, {\n    image: getImage(props.embeddedImages[3]),\n    alt: \"github env variable\",\n    mdxType: \"GatsbyImage\"\n  }), mdx(Link, {\n    to: \"/posts\",\n    className: \"btn center-btn\",\n    mdxType: \"Link\"\n  }, \"all posts\"));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#overview","title":"Overview"},{"url":"#caveats","title":"Caveats"},{"url":"#what-you-need","title":"What you need"},{"url":"#setup-gatsby-environment-variable","title":"Setup Gatsby Environment Variable"}]},"frontmatter":{"title":"How To Add Utterances Comment System To Your Gatsby Blog","author":"youngjae lim","category":"Gatsby","tags":["Gatsby","tool","utterances","widget","github"],"slug":"how-to-add-utterances-to-gatsby-blog","date":"March 25th, 2022","readTime":10,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/b9408bc6d09ae79137f034ef4ce05246/391e5/main_utterances.png","srcSet":"/static/b9408bc6d09ae79137f034ef4ce05246/7f64b/main_utterances.png 326w,\n/static/b9408bc6d09ae79137f034ef4ce05246/8eb61/main_utterances.png 651w,\n/static/b9408bc6d09ae79137f034ef4ce05246/391e5/main_utterances.png 1302w","sizes":"(min-width: 1302px) 1302px, 100vw"},"sources":[{"srcSet":"/static/b9408bc6d09ae79137f034ef4ce05246/62b35/main_utterances.webp 326w,\n/static/b9408bc6d09ae79137f034ef4ce05246/1a754/main_utterances.webp 651w,\n/static/b9408bc6d09ae79137f034ef4ce05246/03f85/main_utterances.webp 1302w","type":"image/webp","sizes":"(min-width: 1302px) 1302px, 100vw"}]},"width":1302,"height":592}}},"embeddedImages":[{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#182828","images":{"fallback":{"src":"/static/6269ab51c6816832a8d2a98143047c47/d87cf/utterance_install_1.png","srcSet":"/static/6269ab51c6816832a8d2a98143047c47/8187e/utterance_install_1.png 468w,\n/static/6269ab51c6816832a8d2a98143047c47/c24dc/utterance_install_1.png 935w,\n/static/6269ab51c6816832a8d2a98143047c47/d87cf/utterance_install_1.png 1870w","sizes":"(min-width: 1870px) 1870px, 100vw"},"sources":[{"srcSet":"/static/6269ab51c6816832a8d2a98143047c47/69b6c/utterance_install_1.webp 468w,\n/static/6269ab51c6816832a8d2a98143047c47/67add/utterance_install_1.webp 935w,\n/static/6269ab51c6816832a8d2a98143047c47/1e3d6/utterance_install_1.webp 1870w","type":"image/webp","sizes":"(min-width: 1870px) 1870px, 100vw"}]},"width":1870,"height":912}}},{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#282838","images":{"fallback":{"src":"/static/dde54491aea7a6bbd72de222f91f80d2/021c6/utterance_install_2.png","srcSet":"/static/dde54491aea7a6bbd72de222f91f80d2/dc42e/utterance_install_2.png 465w,\n/static/dde54491aea7a6bbd72de222f91f80d2/11171/utterance_install_2.png 929w,\n/static/dde54491aea7a6bbd72de222f91f80d2/021c6/utterance_install_2.png 1858w","sizes":"(min-width: 1858px) 1858px, 100vw"},"sources":[{"srcSet":"/static/dde54491aea7a6bbd72de222f91f80d2/ee8da/utterance_install_2.webp 465w,\n/static/dde54491aea7a6bbd72de222f91f80d2/b5ae0/utterance_install_2.webp 929w,\n/static/dde54491aea7a6bbd72de222f91f80d2/8301c/utterance_install_2.webp 1858w","type":"image/webp","sizes":"(min-width: 1858px) 1858px, 100vw"}]},"width":1858,"height":1662}}},{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#282838","images":{"fallback":{"src":"/static/f605d12ba860e58d526d313490440d63/892de/utterance_success.png","srcSet":"/static/f605d12ba860e58d526d313490440d63/4d535/utterance_success.png 391w,\n/static/f605d12ba860e58d526d313490440d63/b445b/utterance_success.png 781w,\n/static/f605d12ba860e58d526d313490440d63/892de/utterance_success.png 1562w","sizes":"(min-width: 1562px) 1562px, 100vw"},"sources":[{"srcSet":"/static/f605d12ba860e58d526d313490440d63/d39d2/utterance_success.webp 391w,\n/static/f605d12ba860e58d526d313490440d63/cc113/utterance_success.webp 781w,\n/static/f605d12ba860e58d526d313490440d63/8bf00/utterance_success.webp 1562w","type":"image/webp","sizes":"(min-width: 1562px) 1562px, 100vw"}]},"width":1562,"height":864}}},{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#182828","images":{"fallback":{"src":"/static/263d1db39db7bcfad95f0a2cdb500b4a/873a8/config_env_on_github.png","srcSet":"/static/263d1db39db7bcfad95f0a2cdb500b4a/5f51c/config_env_on_github.png 287w,\n/static/263d1db39db7bcfad95f0a2cdb500b4a/0abb7/config_env_on_github.png 574w,\n/static/263d1db39db7bcfad95f0a2cdb500b4a/873a8/config_env_on_github.png 1147w","sizes":"(min-width: 1147px) 1147px, 100vw"},"sources":[{"srcSet":"/static/263d1db39db7bcfad95f0a2cdb500b4a/569c3/config_env_on_github.webp 287w,\n/static/263d1db39db7bcfad95f0a2cdb500b4a/5f552/config_env_on_github.webp 574w,\n/static/263d1db39db7bcfad95f0a2cdb500b4a/256dd/config_env_on_github.webp 1147w","type":"image/webp","sizes":"(min-width: 1147px) 1147px, 100vw"}]},"width":1147,"height":729}}}],"videoSourceURL":null,"videoTitle":null},"excerpt":"Overview This article shows you how to add  utterances  light weight comments widget to your Gatsby website. The widget is built on  GitHub  issues. Caveatsâ€¦"}},"pageContext":{"slug":"how-to-add-utterances-to-gatsby-blog","previousPost":{"id":"fa7f6f3d-fd5d-539d-ae63-223b3cda2787","frontmatter":{"title":"Bank of Useful Vim Commands","slug":"bank-of-useful-vim-commands"}},"nextPost":null}},"staticQueryHashes":["266133262","3156252089","3827573359"]}